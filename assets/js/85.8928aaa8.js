(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{424:function(e,s,a){"use strict";a.r(s);var r=a(0),t=Object(r.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h3",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),s("p",[e._v("由于之前买的16寸mac太大太重了，同时看到有许多同事有使用ipad等平板设备进行办公，在这个念头的驱动下，摆脱又大又重的笔记本的想法越来越强烈，故在双十一一冲动则入手了ipad pro2021 11寸M1款，并且也上手在公司使用了一段时间，平时开会&技术方案评审等表现都尚可，总体来说还是十分满意～")]),e._v(" "),s("p",[e._v("最近有些事情需要回家一趟，遂想着vscode本身也是基于Node.js与Chromium进行搭建的，故理论上应该能够在我的云服务器上搭建一个vscode服务器，同时使用浏览器进行访问使用vscode，在网上搜索了一下果不其然有相关的方案，故下面介绍一下vscode服务器版"),s("code",[e._v("code-server")]),e._v("的搭建以及在ipad上编码的感受～")]),e._v(" "),s("h3",{attrs:{id:"code-server官方介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-server官方介绍"}},[e._v("#")]),e._v(" code-server官方介绍")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/coder/code-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("code-server"),s("OutboundLink")],1),e._v("是运行代码服务器的最佳场所，它在您的浏览器或桌面中提供 Visual Studio Code 作为渐进式 Web 应用程序。由数以万计的个人开发人员使用，代码服务器使在任何设备上的任何浏览器中运行 VS Code 成为可能——由任何规模的服务器提供支持。当打包在 Coder 工作区中时，代码服务器为开发团队提供无缝的 VS Code 体验，感觉像是原生的，并以您的云提供的速度和可扩展性为后盾。")]),e._v(" "),s("h3",{attrs:{id:"搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[e._v("#")]),e._v(" 搭建")]),e._v(" "),s("p",[e._v("搭建方式有多种，这里面简单介绍一下docker以及普通rpm部署。\n安装文档：https://coder.com/docs/code-server/latest/install")]),e._v(" "),s("h4",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" docker")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(" docker run -itd -u root -p 18888:8080 --name code-server -v $CODE/config.yaml:/data/apps/docker/code-server-data/config.yaml codercom/code-server\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("docker部署后进入vscode使用的终端为docker内部bash，除非多人使用，否则不太推荐使用docker部署。")]),e._v(" "),s("h4",{attrs:{id:"rpm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rpm"}},[e._v("#")]),e._v(" rpm")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("curl -fOL https://github.com/coder/code-server/releases/download/v3.12.0/code-server-3.12.0-amd64.rpm\nsudo systemctl enable --now code-server@$USER\n# Now visit http://127.0.0.1:8080. Your password is in ~/.config/code-server/config.yaml\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h4",{attrs:{id:"访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[e._v("#")]),e._v(" 访问")]),e._v(" "),s("p",[e._v("config.yaml")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("bind-addr: 127.0.0.1:8080\nauth: password\npassword: xxxx\ncert: false\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("config.yaml文件为登录code-server网页需要的配置的密钥，映射好后登录后查看相关密码输入即可进入界面。")]),e._v(" "),s("p",[e._v("此时访问服务对应端口号应该就能进入到服务（没尝试过），但是为了达到ipad访问的目的，我们还需要通过nginx给服务设置反向代理,绑定域名以及证书进行访问，nginx location相关配置如下：")]),e._v(" "),s("p",[e._v("code-server.conf")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("#PROXY-START/\nlocation ~* \\.(gif|png|jpg|css|js|woff|woff2)$\n{\n\tproxy_pass http://127.0.0.1:8080;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header REMOTE-HOST $remote_addr;\n    expires 12h;\n}\nlocation /\n{\n    proxy_pass http://127.0.0.1:8080;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header REMOTE-HOST $remote_addr;\n    \n    add_header X-Cache $upstream_cache_status;\n    \n    #Set Nginx Cache\n    proxy_ignore_headers Set-Cookie Cache-Control expires;\n    proxy_cache cache_one;\n    proxy_cache_key $host$uri$is_args$args;\n    proxy_cache_valid 200 304 301 302 1m;\n    \n    # websocket config 此处需加wss配置，否则进入会提示websocket建立超时\n\t  proxy_set_header Upgrade $http_upgrade;\n\t  proxy_set_header Connection upgrade;\n\t  proxy_set_header Accept-Encoding gzip;\n}\n\n#PROXY-END/\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br")])]),s("h3",{attrs:{id:"ipad使用技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ipad使用技巧"}},[e._v("#")]),e._v(" ipad使用技巧")]),e._v(" "),s("ul",[s("li",[e._v("使用safari浏览器打开对应code-server网页,点击右上角导出添加到主屏幕")]),e._v(" "),s("li",[e._v("键盘相关设置和输入法切换需要修改一下，否则一直会有下面横跳出现很难受")])]),e._v(" "),s("h3",{attrs:{id:"感受"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#感受"}},[e._v("#")]),e._v(" 感受")]),e._v(" "),s("p",[e._v("环境机器负载并不大，对于个人使用上来说一定是满足的了，在编码体验上总的来说还是能勉强够用的，当网络条件不允许远程的情况下，使用这个vscode编码进行简单的学习和工作还是十分惬意，也满足了当前情况我对于这个ipad生产力的需求～")]),e._v(" "),s("p",[e._v("例如目前这篇文章就是在这个环境下进行的，感觉还是挺有意思的哈～以后如果是几天的假期应该是能完全摆脱mac和家里的台式机了。")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("在家使用ipad写这个文章\n"),s("img",{attrs:{src:"https://pic.fengyuwusong.cn/BE0567E1-4119-42D4-BDFF-28A05394CBD7.jpeg",alt:"在家使用ipad写这个文章"}})])]),e._v(" "),s("li",[s("p",[e._v("在高铁上编码\n"),s("img",{attrs:{src:"https://pic.fengyuwusong.cn/D00CE826-FDC3-4DF3-ADA4-90B272BE578F.jpeg",alt:"高铁编码"}})])])]),e._v(" "),s("h3",{attrs:{id:"缺陷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缺陷"}},[e._v("#")]),e._v(" 缺陷")]),e._v(" "),s("ul",[s("li",[e._v("有些快捷键缺失，很影响编程感受，例如ctrol+tab切换tab")]),e._v(" "),s("li",[e._v("中文输出法无法使用快捷键")]),e._v(" "),s("li",[e._v("切换进程再切回vscode时，键盘输出有时不响应，需要切到其他tab或删除文本操作重新调出键盘才行")]),e._v(" "),s("li",[e._v("vscode用户无法登录，没办法同步配置")]),e._v(" "),s("li",[e._v("markdown无法侧边预览")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://coder.com/docs/code-server/latest/ipad#using-the-code-server-progressive-web-app-pwa",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网相关使用建议"),s("OutboundLink")],1)])]),e._v(" "),s("h3",{attrs:{id:"相关设备及依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关设备及依赖"}},[e._v("#")]),e._v(" 相关设备及依赖")]),e._v(" "),s("ul",[s("li",[e._v("ipad pro")]),e._v(" "),s("li",[e._v("罗技k380键盘")]),e._v(" "),s("li",[e._v("罗技pabble无线鼠标")]),e._v(" "),s("li",[e._v("腾讯云服务2c4g")])]),e._v(" "),s("h3",{attrs:{id:"后续"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后续"}},[e._v("#")]),e._v(" 后续")]),e._v(" "),s("p",[e._v("看了下相关介绍，目前Jetbrains也有类似的产品"),s("a",{attrs:{href:"https://jetbrains.github.io/projector-client/mkdocs/latest/ij_user_guide/jetbrains/#client-side",target:"_blank",rel:"noopener noreferrer"}},[e._v("Projector"),s("OutboundLink")],1),e._v("支持，但是看使用体验上来说好像都是半斤八两，后续有机会再折腾一下试试，毕竟目前"),s("code",[e._v("goland")]),e._v("可是上班吃饭的家伙，如果能完美支持远程使用就好了～")])])}),[],!1,null,null,null);s.default=t.exports}}]);